<?xml version="1.0" encoding="UTF-8"?><record_update table="sp_widget">
    <sp_widget action="INSERT_OR_UPDATE">
        <category>custom</category>
        <client_script><![CDATA[api.controller = function($scope) {
  var c = this;
  c.currentIndex = 0;

  c.next = function() {
    var items = document.querySelectorAll('.carousel-item');
    if (c.currentIndex < items.length - 1) {
      c.currentIndex++;
    } else {
      c.currentIndex = 0;
    }
    updateCarousel();
  };

  c.prev = function() {
    var items = document.querySelectorAll('.carousel-item');
    if (c.currentIndex > 0) {
      c.currentIndex--;
    } else {
      c.currentIndex = items.length - 1;
    }
    updateCarousel();
  };

  function updateCarousel() {
    var carousel = document.querySelector('.carousel');
    var itemWidth = document.querySelector('.carousel-item').offsetWidth;
    var offset = -c.currentIndex * (itemWidth + 30); // Adjust the 30 based on the margin
    carousel.style.transform = 'translateX(' + offset + 'px)';
  }

  c.hover = function(index) {
    var carouselItems = document.querySelectorAll('.carousel-item');
    carouselItems.forEach(function(item, idx) {
      if (idx === index) {
        item.style.transform = 'scale(1.2)';
        item.style.opacity = '1';
        item.style.zIndex = '10';
      } else {
        item.style.transform = 'scale(1)';
        item.style.opacity = '0.8';
        item.style.zIndex = '1';
      }
    });
  };

  c.resetHover = function() {
    var carouselItems = document.querySelectorAll('.carousel-item');
    carouselItems.forEach(function(item) {
      item.style.transform = 'scale(1)';
      item.style.opacity = '0.8';
      item.style.zIndex = '1';
    });
  };
};
]]></client_script>
        <controller_as>c</controller_as>
        <css>.carousel-container {
  position: relative;
  width: 100%;
  max-width: 1200px;
  margin: auto;
  overflow: hidden;
}

.carousel-wrapper {
  display: flex;
  overflow: hidden;
  width: 100%;
}

.carousel {
  display: flex;
  transition: transform 0.5s ease;
}

.carousel-item {
  flex: 0 0 auto;
  width: 250px;
  height: 350px;
  margin: 0 15px;
  border: 2px solid #ddd;
  border-radius: 10px;
  transition: transform 0.5s ease, opacity 0.5s ease;
  opacity: 0.8;
  background-color: #fff;
  overflow: hidden;
  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
}

.carousel-image img {
  width: 100%;
  height: 70%;
  object-fit: cover;
  border-bottom: 2px solid #ddd;
}

.carousel-content {
  height: 30%;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  background-color: #f9f9f9;
}

.carousel-content h3 {
  color: #333;
  font-size: 1.2em;
  margin: 0;
}

.event-date {
  display: flex;
  align-items: center;
  color: #666;
  font-size: 0.9em;
}

.date-icon {
  font-size: 1.2em;
  margin-right: 5px;
}

.formatted-date {
  font-size: 0.9em;
}

.carousel-item:hover {
  transform: scale(1.2);
  opacity: 1;
  z-index: 10;
  box-shadow: 0 6px 12px rgba(0, 0, 0, 0.3);
}

.carousel-control {
  position: absolute;
  top: 50%;
  width: 40px;
  left: 109rem;
  height: 40px;
  background: rgba(0, 0, 0, 0.5);
  color: white;
  border: none;
  border-radius: 50%;
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 20px;
  z-index: 10; /* Adjust z-index to ensure controls are on top */
  transform: translateY(-50%);
}

.carousel-control.prev {
  left: 10px;
}

.carousel-control.next {
  right: 10px;
}
</css>
        <data_table>sp_instance</data_table>
        <demo_data/>
        <description/>
        <docs/>
        <field_list/>
        <has_preview>true</has_preview>
        <id>test</id>
        <internal>false</internal>
        <link><![CDATA[function link(scope, element, attrs, controller) {  }]]></link>
        <name>test</name>
        <option_schema/>
        <public>false</public>
        <roles/>
        <script><![CDATA[(function() {
  var gr = new GlideRecord('x_1383184_charityb_events'); // Assuming your table for events is named 'x_1383184_charityb_event'
  gr.addQuery('event_status', 'schedule'); // Assuming 'event_status' is the field that indicates the event is scheduled
  gr.query();
  data.events = [];
  while (gr.next()) {
    data.events.push({
      event_name: gr.getValue('event_name'),
      start_date: gr.getValue('start_date'),
      image: gr.getDisplayValue('image') // Adjust based on your field for event images
    });
  }
  data.currentIndex = 0;
})();
]]></script>
        <servicenow>false</servicenow>
        <sys_class_name>sp_widget</sys_class_name>
        <sys_created_by>lalitha</sys_created_by>
        <sys_created_on>2024-06-21 14:28:46</sys_created_on>
        <sys_id>88e41c3b93ba021094e3f15a7bba10f1</sys_id>
        <sys_mod_count>201</sys_mod_count>
        <sys_name>test</sys_name>
        <sys_package display_value="CharityBids" source="x_1383184_charityb">bcaeeadb9369421094e3f15a7bba1090</sys_package>
        <sys_policy/>
        <sys_scope display_value="CharityBids">bcaeeadb9369421094e3f15a7bba1090</sys_scope>
        <sys_update_name>sp_widget_88e41c3b93ba021094e3f15a7bba10f1</sys_update_name>
        <sys_updated_by>lalitha</sys_updated_by>
        <sys_updated_on>2024-07-22 07:54:37</sys_updated_on>
        <template><![CDATA[<div class="carousel-container">
  <div class="carousel-wrapper">
    <div class="carousel" ng-mouseleave="c.resetHover()">
      <div class="carousel-item" ng-repeat="event in c.data.events" ng-mouseover="c.hover($index)">
        <div class="carousel-image">
          <img ng-src="{{event.image}}" alt="{{event.event_name}}">
        </div>
        <div class="carousel-content">
          <h3>{{event.event_name}}</h3>
          <div class="event-date">
            <span class="date-icon">&#128197;</span> <!-- Calendar icon -->
            <span class="formatted-date">{{event.start_date | date:'d MMMM'}}</span>
          </div>
        </div>
      </div>
    </div>
  </div>
  <button class="carousel-control prev" ng-click="c.prev()">&#10094;</button>
  <button class="carousel-control next" ng-click="c.next()">&#10095;</button>
</div>
]]></template>
    </sp_widget>
</record_update>
